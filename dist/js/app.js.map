{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","assets/js/app.js","assets/js/cfg.js","assets/js/modules/App.js","assets/js/modules/Controller.js","assets/js/modules/Store.js","assets/js/modules/View.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*jshint esversion: 6 */\n\nimport App from './modules/App.js';\n\n(() => {\n\t'use strict';\n\n\tconst app = new App();\n\n})(App);","/*jshint esversion: 6 */\n\nconst config = {\n\tfunda: {\n\t\tkey: '271175433a7c4fe2a45750d385dd9bfd',\n\t\tbaseUrls: {\n\t\t\tsearch: '//funda.kyrandia.nl/feeds/Aanbod.svc/json',\n\t\t\tobjects: '//funda.kyrandia.nl/feeds/Aanbod.svc/json',\n\t\t\tautoSuggest: '//zb.funda.info/frontend/json',\n\t\t\tmap: '//mt1.funda.nl/maptiledata.ashx/json'\n\t\t}\n\t},\n\tgoogle: {\n\t\tkey: 'AIzaSyA5emTbr8ytwvzrw9NQW7zlXg1NubeDG5M',\n\t\tbaseUrls: {\n\t\t\tmaps: 'https://maps.googleapis.com/maps/api/geocode/json',\n\t\t\troads: 'https://roads.googleapis.com/v1/nearestRoads'\n\t\t}\n\t}\n};\n\nexport default config;","/*jshint esversion: 6 */\n\nimport config from '../cfg.js';\nimport Controller from './Controller.js';\nimport View from './View.js';\nimport Store from './Store.js';\n\nclass App {\n\tconstructor() {\n\t\tthis.config     = config;\n\t\tthis.controller = new Controller(this);\n\t\tthis.view       = new View(this);\n\t\tthis.store      = new Store(this);\n\t\tthis.init();\n\t}\n\n\tgetCoords() {\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tif (navigator.geolocation.getCurrentPosition) {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(data => {\n\t\t\t\t\tresolve(data.coords);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treject(`Couldn't get the location from your browser`);\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchRequest(url, callback) {\n\t\tfetch(url)\n\t\t.then(response => {\n\t\t\tif (response.status >= 200 && response.status < 300) {\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then((data) => {\n\t\t\t\t\tcallback(data);\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\tresponse.status);\n\t\t\t\treturn;\n\t\t\t}\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t});\n\t}\n\n\thandleRequest(method, url) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar xhr = new XMLHttpRequest();\n\n\t\t\txhr.open(method, url);\n\n\t\t\txhr.onload = function() {\n\t\t\t\tif (this.status >= 200 && this.status < 300) {\n\t\t\t\t\tresolve(JSON.parse(xhr.responseText));\n\t\t\t\t} else {\n\t\t\t\t\treject({status: this.status, statusText: xhr.statusText});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = function() {\n\t\t\t\treject({status: this.status, statusText: xhr.statusText});\n\t\t\t};\n\n\t\t\txhr.send();\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.controller.init();\n\t}\n}\n\nexport default App;","/*jshint esversion: 6 */\n\nclass Controller {\n\tconstructor(app) {\n\t\tthis.app = app;\n\t}\n\n\tinit() {\n\t\tthis.app.view.render();\n\t}\n}\n\nexport default Controller;","/*jshint esversion: 6 */\n\nclass Store {\n\tconstructor(app) {\n\t\tthis.app = app;\n\t}\n\n\tgetAssets(location) {\n\n\t}\n}\n\nexport default Store;","/*jshint esversion: 6 */\n\nclass View {\n\tconstructor(app) {\n\t\tthis.app = app;\n\t}\n\n\tbuildAddress(components) {\n\t\tconsole.log(components);\n\t\tcomponents = components.filter(component => {\n\t\t\t// return component.types.includes('route') || component.types.includes('locality');\n\t\t\treturn component.types.includes('locality');\n\t\t});\n\n\t\tcomponents = components.map(component => {\n\t\t\treturn component.long_name;\n\t\t});\n\n\t\treturn components.reduce((buffer, current) => {\n\t\t\treturn `${buffer}/${current}`;\n\t\t});\n\t}\n\n\trender() {\n\t\tthis.app.getCoords()\n\t\t\t.then(userCoords => {\n\t\t\t\t// Get the first address matching the coordinates\n\t\t\t\tthis.app.handleRequest('GET', `${this.app.config.google.baseUrls.roads}?points=${userCoords.latitude},${userCoords.longitude}&key=${this.app.config.google.key}`)\n\t\t\t.then(streetCoords => {\n\t\t\t\tstreetCoords = streetCoords.snappedPoints;\n\t\t\t\tconsole.log(streetCoords);\n\n\t\t\t\tconst promises = streetCoords.map(street => {\n\t\t\t\t\t// console.log(streetCoords);\n\t\t\t\t\treturn this.app.handleRequest('GET', `${this.app.config.google.baseUrl}?latlng=${streetCoords.location.latitude},${streetCoords.location.longitude}&key=${this.app.config.google.key}`);\n\t\t\t\t});\n\n\t\t\t\t// Promise.all(promises).then(streetCoords => {\n\t\t\t\t//\n\t\t\t\t// });\n\n\t\t\t\t// console.log(promises);\n\n\t\t\t\t// address = address.results[0];\n\t\t\t\t// address = this.buildAddress(address.address_components);\n\t\t\t\t// // Get the houses matching the address\n\t\t\t\t// this.app.fetchRequest(`${this.app.config.funda.baseUrls.search}/${this.app.config.funda.key}?type=koop&zo=/${address}&page=1&pagesize=25`, (houses) => {\n\t\t\t\t// \tconsole.log(houses);\n\t\t\t\t// });\n\t\t\t});\n\t\t\t\t// this.app.fetchRequest(`http://api.geonames.org/findNearbyStreetsOSM?lat=${coords.latitude}&lng=${coords.longitude}&username=demo`, streets => {\n\t\t\t\t// \tconsole.log(streets);\n\t\t\t\t// });\n\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n}\n\nexport default View;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvYXBwLmpzIiwiYXNzZXRzL2pzL2NmZy5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL0FwcC5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL0NvbnRyb2xsZXIuanMiLCJhc3NldHMvanMvbW9kdWxlcy9TdG9yZS5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL1ZpZXcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0VBOzs7Ozs7QUFFQSxDQUFDLFlBQU07QUFDTjs7QUFFQSxLQUFNLE1BQU0sbUJBQVo7QUFFQSxDQUxELGlCLENBSkE7Ozs7Ozs7O0FDQUE7O0FBRUEsSUFBTSxTQUFTO0FBQ2QsUUFBTztBQUNOLE9BQUssa0NBREM7QUFFTixZQUFVO0FBQ1QsV0FBUSwyQ0FEQztBQUVULFlBQVMsMkNBRkE7QUFHVCxnQkFBYSwrQkFISjtBQUlULFFBQUs7QUFKSTtBQUZKLEVBRE87QUFVZCxTQUFRO0FBQ1AsT0FBSyx5Q0FERTtBQUVQLFlBQVU7QUFDVCxTQUFNLG1EQURHO0FBRVQsVUFBTztBQUZFO0FBRkg7QUFWTSxDQUFmOztrQkFtQmUsTTs7Ozs7Ozs7O3FqQkNyQmY7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0lBRU0sRztBQUNMLGdCQUFjO0FBQUE7O0FBQ2IsT0FBSyxNQUFMO0FBQ0EsT0FBSyxVQUFMLEdBQWtCLHlCQUFlLElBQWYsQ0FBbEI7QUFDQSxPQUFLLElBQUwsR0FBa0IsbUJBQVMsSUFBVCxDQUFsQjtBQUNBLE9BQUssS0FBTCxHQUFrQixvQkFBVSxJQUFWLENBQWxCO0FBQ0EsT0FBSyxJQUFMO0FBQ0E7Ozs7OEJBRVc7QUFDWCxVQUFPLElBQUksT0FBSixDQUFZLFVBQVMsT0FBVCxFQUFrQixNQUFsQixFQUEwQjtBQUM1QyxRQUFJLFVBQVUsV0FBVixDQUFzQixrQkFBMUIsRUFB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QUNPLHNCQUFjO0FBQ25CO0FBQ0EsVUFBSyxHQUFMLENBQVMsYUFBVCxDQUF1QixLQUF2QixFQUFpQyxNQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLE1BQWhCLENBQXVCLFFBQXZCLENBQWdDLEtBQWpFLGdCQUFpRixXQUFXLFFBQTVGLFNBQXdHLFdBQVcsU0FBbkgsYUFBb0ksTUFBSyxHQUFMLENBQVMsTUFBVCxDQUFnQixNQUFoQixDQUF1QixHQUEzSixFQUNBLElBREEsQ0FDSyx3QkFBZ0I7QUFDckIsb0JBQWUsYUFBYSxhQUE1QjtBQUNBLGFBQVEsR0FBUixDQUFZLFlBQVo7O0FBRUEsU0FBTSxXQUFXLGFBQWEsR0FBYixDQUFpQixrQkFBVTtBQUMzQztBQUNBLGFBQU8sTUFBSyxHQUFMLENBQVMsYUFBVCxDQUF1QixLQUF2QixFQUFpQyxNQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLE1BQWhCLENBQXVCLE9BQXhELGdCQUEwRSxhQUFhLFFBQWIsQ0FBc0IsUUFBaEcsU0FBNEcsYUFBYSxRQUFiLENBQXNCLFNBQWxJLGFBQW1KLE1BQUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsTUFBaEIsQ0FBdUIsR0FBMUssQ0FBUDtBQUNBLE1BSGdCLENBQWpCOztBQUtBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQXRCQTtBQXVCQTtBQUNBO0FBQ0E7QUFDRCxJQTdCRCxFQThCRSxLQTlCRixDQThCUSxpQkFBUztBQUNmLFlBQVEsR0FBUixDQUFZLEtBQVo7QUFDQSxJQWhDRjtBQWlDQTs7Ozs7O2tCQUdhLEkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmltcG9ydCBBcHAgZnJvbSAnLi9tb2R1bGVzL0FwcC5qcyc7XG5cbigoKSA9PiB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRjb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cbn0pKEFwcCk7IiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmNvbnN0IGNvbmZpZyA9IHtcblx0ZnVuZGE6IHtcblx0XHRrZXk6ICcyNzExNzU0MzNhN2M0ZmUyYTQ1NzUwZDM4NWRkOWJmZCcsXG5cdFx0YmFzZVVybHM6IHtcblx0XHRcdHNlYXJjaDogJy8vZnVuZGEua3lyYW5kaWEubmwvZmVlZHMvQWFuYm9kLnN2Yy9qc29uJyxcblx0XHRcdG9iamVjdHM6ICcvL2Z1bmRhLmt5cmFuZGlhLm5sL2ZlZWRzL0FhbmJvZC5zdmMvanNvbicsXG5cdFx0XHRhdXRvU3VnZ2VzdDogJy8vemIuZnVuZGEuaW5mby9mcm9udGVuZC9qc29uJyxcblx0XHRcdG1hcDogJy8vbXQxLmZ1bmRhLm5sL21hcHRpbGVkYXRhLmFzaHgvanNvbidcblx0XHR9XG5cdH0sXG5cdGdvb2dsZToge1xuXHRcdGtleTogJ0FJemFTeUE1ZW1UYnI4eXR3dnpydzlOUVc3emxYZzFOdWJlREc1TScsXG5cdFx0YmFzZVVybHM6IHtcblx0XHRcdG1hcHM6ICdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uJyxcblx0XHRcdHJvYWRzOiAnaHR0cHM6Ly9yb2Fkcy5nb29nbGVhcGlzLmNvbS92MS9uZWFyZXN0Um9hZHMnXG5cdFx0fVxuXHR9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25maWc7IiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY2ZnLmpzJztcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgVmlldyBmcm9tICcuL1ZpZXcuanMnO1xuaW1wb3J0IFN0b3JlIGZyb20gJy4vU3RvcmUuanMnO1xuXG5jbGFzcyBBcHAge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmNvbmZpZyAgICAgPSBjb25maWc7XG5cdFx0dGhpcy5jb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIodGhpcyk7XG5cdFx0dGhpcy52aWV3ICAgICAgID0gbmV3IFZpZXcodGhpcyk7XG5cdFx0dGhpcy5zdG9yZSAgICAgID0gbmV3IFN0b3JlKHRoaXMpO1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0Z2V0Q29vcmRzKCkge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKSB7XG5cdFx0XHRcdG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZGF0YSA9PiB7XG5cdFx0XHRcdFx0cmVzb2x2ZShkYXRhLmNvb3Jkcyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVqZWN0KGBDb3VsZG4ndCBnZXQgdGhlIGxvY2F0aW9uIGZyb20geW91ciBicm93c2VyYCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRmZXRjaFJlcXVlc3QodXJsLCBjYWxsYmFjaykge1xuXHRcdGZldGNoKHVybClcblx0XHQudGhlbihyZXNwb25zZSA9PiB7XG5cdFx0XHRpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcblx0XHRcdFx0Ly8gRXhhbWluZSB0aGUgdGV4dCBpbiB0aGUgcmVzcG9uc2Vcblx0XHRcdFx0cmVzcG9uc2UuanNvbigpLnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdFx0XHRjYWxsYmFjayhkYXRhKTtcblx0XHRcdFx0fSkuY2F0Y2goZXJyb3IgPT4ge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnTG9va3MgbGlrZSB0aGVyZSB3YXMgYSBwcm9ibGVtLiBTdGF0dXMgQ29kZTogJyArXG5cdFx0XHRcdHJlc3BvbnNlLnN0YXR1cyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9KVxuXHRcdC5jYXRjaCgoZXJyKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygnRmV0Y2ggRXJyb3IgOi1TJywgZXJyKTtcblx0XHR9KTtcblx0fVxuXG5cdGhhbmRsZVJlcXVlc3QobWV0aG9kLCB1cmwpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cdFx0XHR4aHIub3BlbihtZXRob2QsIHVybCk7XG5cblx0XHRcdHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMCkge1xuXHRcdFx0XHRcdHJlc29sdmUoSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVqZWN0KHtzdGF0dXM6IHRoaXMuc3RhdHVzLCBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHR4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZWplY3Qoe3N0YXR1czogdGhpcy5zdGF0dXMsIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0fSk7XG5cdFx0XHR9O1xuXG5cdFx0XHR4aHIuc2VuZCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0aW5pdCgpIHtcblx0XHR0aGlzLmNvbnRyb2xsZXIuaW5pdCgpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDsiLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuY2xhc3MgQ29udHJvbGxlciB7XG5cdGNvbnN0cnVjdG9yKGFwcCkge1xuXHRcdHRoaXMuYXBwID0gYXBwO1xuXHR9XG5cblx0aW5pdCgpIHtcblx0XHR0aGlzLmFwcC52aWV3LnJlbmRlcigpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmNsYXNzIFN0b3JlIHtcblx0Y29uc3RydWN0b3IoYXBwKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdH1cblxuXHRnZXRBc3NldHMobG9jYXRpb24pIHtcblxuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0b3JlOyIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5jbGFzcyBWaWV3IHtcblx0Y29uc3RydWN0b3IoYXBwKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdH1cblxuXHRidWlsZEFkZHJlc3MoY29tcG9uZW50cykge1xuXHRcdGNvbnNvbGUubG9nKGNvbXBvbmVudHMpO1xuXHRcdGNvbXBvbmVudHMgPSBjb21wb25lbnRzLmZpbHRlcihjb21wb25lbnQgPT4ge1xuXHRcdFx0Ly8gcmV0dXJuIGNvbXBvbmVudC50eXBlcy5pbmNsdWRlcygncm91dGUnKSB8fCBjb21wb25lbnQudHlwZXMuaW5jbHVkZXMoJ2xvY2FsaXR5Jyk7XG5cdFx0XHRyZXR1cm4gY29tcG9uZW50LnR5cGVzLmluY2x1ZGVzKCdsb2NhbGl0eScpO1xuXHRcdH0pO1xuXG5cdFx0Y29tcG9uZW50cyA9IGNvbXBvbmVudHMubWFwKGNvbXBvbmVudCA9PiB7XG5cdFx0XHRyZXR1cm4gY29tcG9uZW50LmxvbmdfbmFtZTtcblx0XHR9KTtcblxuXHRcdHJldHVybiBjb21wb25lbnRzLnJlZHVjZSgoYnVmZmVyLCBjdXJyZW50KSA9PiB7XG5cdFx0XHRyZXR1cm4gYCR7YnVmZmVyfS8ke2N1cnJlbnR9YDtcblx0XHR9KTtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHR0aGlzLmFwcC5nZXRDb29yZHMoKVxuXHRcdFx0LnRoZW4odXNlckNvb3JkcyA9PiB7XG5cdFx0XHRcdC8vIEdldCB0aGUgZmlyc3QgYWRkcmVzcyBtYXRjaGluZyB0aGUgY29vcmRpbmF0ZXNcblx0XHRcdFx0dGhpcy5hcHAuaGFuZGxlUmVxdWVzdCgnR0VUJywgYCR7dGhpcy5hcHAuY29uZmlnLmdvb2dsZS5iYXNlVXJscy5yb2Fkc30/cG9pbnRzPSR7dXNlckNvb3Jkcy5sYXRpdHVkZX0sJHt1c2VyQ29vcmRzLmxvbmdpdHVkZX0ma2V5PSR7dGhpcy5hcHAuY29uZmlnLmdvb2dsZS5rZXl9YClcblx0XHRcdC50aGVuKHN0cmVldENvb3JkcyA9PiB7XG5cdFx0XHRcdHN0cmVldENvb3JkcyA9IHN0cmVldENvb3Jkcy5zbmFwcGVkUG9pbnRzO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhzdHJlZXRDb29yZHMpO1xuXG5cdFx0XHRcdGNvbnN0IHByb21pc2VzID0gc3RyZWV0Q29vcmRzLm1hcChzdHJlZXQgPT4ge1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKHN0cmVldENvb3Jkcyk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuYXBwLmhhbmRsZVJlcXVlc3QoJ0dFVCcsIGAke3RoaXMuYXBwLmNvbmZpZy5nb29nbGUuYmFzZVVybH0/bGF0bG5nPSR7c3RyZWV0Q29vcmRzLmxvY2F0aW9uLmxhdGl0dWRlfSwke3N0cmVldENvb3Jkcy5sb2NhdGlvbi5sb25naXR1ZGV9JmtleT0ke3RoaXMuYXBwLmNvbmZpZy5nb29nbGUua2V5fWApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihzdHJlZXRDb29yZHMgPT4ge1xuXHRcdFx0XHQvL1xuXHRcdFx0XHQvLyB9KTtcblxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhwcm9taXNlcyk7XG5cblx0XHRcdFx0Ly8gYWRkcmVzcyA9IGFkZHJlc3MucmVzdWx0c1swXTtcblx0XHRcdFx0Ly8gYWRkcmVzcyA9IHRoaXMuYnVpbGRBZGRyZXNzKGFkZHJlc3MuYWRkcmVzc19jb21wb25lbnRzKTtcblx0XHRcdFx0Ly8gLy8gR2V0IHRoZSBob3VzZXMgbWF0Y2hpbmcgdGhlIGFkZHJlc3Ncblx0XHRcdFx0Ly8gdGhpcy5hcHAuZmV0Y2hSZXF1ZXN0KGAke3RoaXMuYXBwLmNvbmZpZy5mdW5kYS5iYXNlVXJscy5zZWFyY2h9LyR7dGhpcy5hcHAuY29uZmlnLmZ1bmRhLmtleX0/dHlwZT1rb29wJnpvPS8ke2FkZHJlc3N9JnBhZ2U9MSZwYWdlc2l6ZT0yNWAsIChob3VzZXMpID0+IHtcblx0XHRcdFx0Ly8gXHRjb25zb2xlLmxvZyhob3VzZXMpO1xuXHRcdFx0XHQvLyB9KTtcblx0XHRcdH0pO1xuXHRcdFx0XHQvLyB0aGlzLmFwcC5mZXRjaFJlcXVlc3QoYGh0dHA6Ly9hcGkuZ2VvbmFtZXMub3JnL2ZpbmROZWFyYnlTdHJlZXRzT1NNP2xhdD0ke2Nvb3Jkcy5sYXRpdHVkZX0mbG5nPSR7Y29vcmRzLmxvbmdpdHVkZX0mdXNlcm5hbWU9ZGVtb2AsIHN0cmVldHMgPT4ge1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKHN0cmVldHMpO1xuXHRcdFx0XHQvLyB9KTtcblx0XHR9KVxuXHRcdFx0LmNhdGNoKGVycm9yID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHRcdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldzsiXX0="}