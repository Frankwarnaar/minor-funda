{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","assets/js/app.js","assets/js/cfg.js","assets/js/modules/App.js","assets/js/modules/Controller.js","assets/js/modules/Store.js","assets/js/modules/View.js"],"names":[],"mappings":"AAAA;;;ACEA;;;;;;AAEA,CAAC,YAAM;AACN;;AAEA,KAAM,MAAM,mBAAZ;AAEA,CALD,iB,CAJA;;;;;;;;ACAA;;AAEA,IAAM,SAAS;AACd,QAAO;AACN,OAAK,kCADC;AAEN,YAAU;AACT,WAAQ,2CADC;AAET,YAAS,2CAFA;AAGT,gBAAa,+BAHJ;AAIT,QAAK;AAJI;AAFJ,EADO;AAUd,SAAQ;AACP,OAAK,yCADE;AAEP,WAAS;AAFF;AAVM,CAAf;;kBAgBe,M;;;;;;;;;qjBClBf;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEM,G;AACL,gBAAc;AAAA;;AACb,OAAK,MAAL;AACA,OAAK,UAAL,GAAkB,yBAAe,IAAf,CAAlB;AACA,OAAK,IAAL,GAAkB,mBAAS,IAAT,CAAlB;AACA,OAAK,KAAL,GAAkB,oBAAU,IAAV,CAAlB;AACA,OAAK,IAAL;AACA;;;;8BAEW;AACX,UAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAkB,MAAlB,EAA0B;AAC5C,QAAI,UAAU,WAAV,CAAsB,kBAA1B,EAA8C;AAC7C,eAAU,WAAV,CAAsB,kBAAtB,CAAyC,gBAAQ;AAChD,cAAQ,KAAK,MAAb;AACA,MAFD;AAGA,KAJD,MAIO;AACN;AACA;AACD,IARM,CAAP;AASA;;;gCAEa,M,EAAQ,G,EAAK,G,EAAK;AAC/B,UAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAkB,MAAlB,EAA0B;AAC5C,QAAI,MAAM,IAAI,cAAJ,EAAV;;AAEA,QAAI,IAAJ,CAAS,MAAT,EAAiB,GAAjB;;AAEA,QAAI,MAAJ,GAAa,YAAW;AACvB,SAAI,KAAK,MAAL,IAAe,GAAf,IAAsB,KAAK,MAAL,GAAc,GAAxC,EAA6C;AAC5C,cAAQ,GAAR,CAAY,IAAI,YAAhB;AACA,UAAI,GAAJ,EAAS;AACR,eAAQ,IAAI,YAAZ;AACA,OAFD,MAEO;AACN,eAAQ,KAAK,KAAL,CAAW,IAAI,YAAf,CAAR;AACA;AACD,MAPD,MAOO;AACN,aAAO,EAAC,QAAQ,KAAK,MAAd,EAAsB,YAAY,IAAI,UAAtC,EAAP;AACA;AACD,KAXD;;AAaA,QAAI,OAAJ,GAAc,YAAW;AACxB,YAAO,EAAC,QAAQ,KAAK,MAAd,EAAsB,YAAY,IAAI,UAAtC,EAAP;AACA,KAFD;;AAIA,QAAI,IAAJ;AACA,IAvBM,CAAP;AAwBA;;;yBAEM;AACN,QAAK,UAAL,CAAgB,IAAhB;AACA;;;;;;kBAGa,G;;;;;;;;;;;;;AC5Df;;IAEM,U;AACL,qBAAY,GAAZ,EAAiB;AAAA;;AAChB,OAAK,GAAL,GAAW,GAAX;AACA;;;;yBAEM;AACN,QAAK,GAAL,CAAS,IAAT,CAAc,MAAd;AACA;;;;;;kBAGa,U;;;;;;;;;;;;;ACZf;;IAEM,K;AACL,gBAAY,GAAZ,EAAiB;AAAA;;AAChB,OAAK,GAAL,GAAW,GAAX;AACA;;;;4BAES,Q,EAAU,CAEnB;;;;;;kBAGa,K;;;;;;;;;;;;;ACZf;;IAEM,I;AACL,eAAY,GAAZ,EAAiB;AAAA;;AAChB,OAAK,GAAL,GAAW,GAAX;AACA;;;;+BAEY,U,EAAY;AACxB,gBAAa,WAAW,MAAX,CAAkB,qBAAa;AAC3C,WAAO,UAAU,KAAV,CAAgB,QAAhB,CAAyB,OAAzB,KAAqC,UAAU,KAAV,CAAgB,QAAhB,CAAyB,UAAzB,CAA5C;AACA,IAFY,CAAb;;AAIA,gBAAa,WAAW,GAAX,CAAe,qBAAa;AACxC,WAAO,UAAU,SAAjB;AACA,IAFY,CAAb;;AAIA,UAAO,WAAW,MAAX,CAAkB,UAAC,MAAD,EAAS,OAAT,EAAqB;AAC7C,WAAU,MAAV,SAAoB,OAApB;AACA,IAFM,CAAP;AAGA;;;2BAEQ;AAAA;;AACR,QAAK,GAAL,CAAS,SAAT,GACE,IADF,CACO,kBAAU;AACf;AACA,UAAK,GAAL,CAAS,aAAT,CAAuB,KAAvB,EAAiC,MAAK,GAAL,CAAS,MAAT,CAAgB,MAAhB,CAAuB,OAAxD,gBAA0E,OAAO,QAAjF,SAA6F,OAAO,SAApG,aAAqH,MAAK,GAAL,CAAS,MAAT,CAAgB,MAAhB,CAAuB,GAA5I,EACA,IADA,CACK,mBAAW;AAChB,eAAU,QAAQ,OAAR,CAAgB,CAAhB,CAAV;AACA,eAAU,MAAK,YAAL,CAAkB,QAAQ,kBAA1B,CAAV;AACA;AACA,WAAK,GAAL,CAAS,aAAT,CAAuB,KAAvB,EAAiC,MAAK,GAAL,CAAS,MAAT,CAAgB,KAAhB,CAAsB,QAAtB,CAA+B,MAAhE,SAA0E,MAAK,GAAL,CAAS,MAAT,CAAgB,KAAhB,CAAsB,GAAhG,uBAAqH,OAArH,0BAAmJ,IAAnJ,EACE,IADF,CACO,kBAAU;AACf,cAAQ,GAAR,CAAY,MAAZ;AACA,MAHF;AAIA,KATA;AAUD,IAbD,EAcE,KAdF,CAcQ,iBAAS;AACf,YAAQ,GAAR,CAAY,KAAZ;AACA,IAhBF;AAiBA;;;;;;kBAGa,I","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*jshint esversion: 6 */\n\nimport App from './modules/App.js';\n\n(() => {\n\t'use strict';\n\n\tconst app = new App();\n\n})(App);","/*jshint esversion: 6 */\n\nconst config = {\n\tfunda: {\n\t\tkey: '271175433a7c4fe2a45750d385dd9bfd',\n\t\tbaseUrls: {\n\t\t\tsearch: 'http://funda.kyrandia.nl/feeds/Aanbod.svc',\n\t\t\tobjects: 'http://funda.kyrandia.nl/feeds/Aanbod.svc',\n\t\t\tautoSuggest: 'http://zb.funda.info/frontend',\n\t\t\tmap: 'http://mt1.funda.nl/maptiledata.ashx'\n\t\t}\n\t},\n\tgoogle: {\n\t\tkey: 'AIzaSyA5emTbr8ytwvzrw9NQW7zlXg1NubeDG5M',\n\t\tbaseUrl: 'https://maps.googleapis.com/maps/api/geocode/json'\n\t}\n};\n\nexport default config;","/*jshint esversion: 6 */\n\nimport config from '../cfg.js';\nimport Controller from './Controller.js';\nimport View from './View.js';\nimport Store from './Store.js';\n\nclass App {\n\tconstructor() {\n\t\tthis.config     = config;\n\t\tthis.controller = new Controller(this);\n\t\tthis.view       = new View(this);\n\t\tthis.store      = new Store(this);\n\t\tthis.init();\n\t}\n\n\tgetCoords() {\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tif (navigator.geolocation.getCurrentPosition) {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(data => {\n\t\t\t\t\tresolve(data.coords);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treject(`Couldn't get the location from your browser`);\n\t\t\t}\n\t\t});\n\t}\n\n\thandleRequest(method, url, xml) {\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tvar xhr = new XMLHttpRequest();\n\n\t\t\txhr.open(method, url);\n\n\t\t\txhr.onload = function() {\n\t\t\t\tif (this.status >= 200 && this.status < 300) {\n\t\t\t\t\tconsole.log(xhr.responseText);\n\t\t\t\t\tif (xml) {\n\t\t\t\t\t\tresolve(xhr.responseText);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(JSON.parse(xhr.responseText));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject({status: this.status, statusText: xhr.statusText});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = function() {\n\t\t\t\treject({status: this.status, statusText: xhr.statusText});\n\t\t\t};\n\n\t\t\txhr.send();\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.controller.init();\n\t}\n}\n\nexport default App;","/*jshint esversion: 6 */\n\nclass Controller {\n\tconstructor(app) {\n\t\tthis.app = app;\n\t}\n\n\tinit() {\n\t\tthis.app.view.render();\n\t}\n}\n\nexport default Controller;","/*jshint esversion: 6 */\n\nclass Store {\n\tconstructor(app) {\n\t\tthis.app = app;\n\t}\n\n\tgetAssets(location) {\n\n\t}\n}\n\nexport default Store;","/*jshint esversion: 6 */\n\nclass View {\n\tconstructor(app) {\n\t\tthis.app = app;\n\t}\n\n\tbuildAddress(components) {\n\t\tcomponents = components.filter(component => {\n\t\t\treturn component.types.includes('route') || component.types.includes('locality');\n\t\t});\n\n\t\tcomponents = components.map(component => {\n\t\t\treturn component.long_name;\n\t\t});\n\n\t\treturn components.reduce((buffer, current) => {\n\t\t\treturn `${buffer}/${current}`;\n\t\t});\n\t}\n\n\trender() {\n\t\tthis.app.getCoords()\n\t\t\t.then(coords => {\n\t\t\t\t// Get the first address matching the coordinates\n\t\t\t\tthis.app.handleRequest('GET', `${this.app.config.google.baseUrl}?latlng=${coords.latitude},${coords.longitude}&key=${this.app.config.google.key}`)\n\t\t\t.then(address => {\n\t\t\t\taddress = address.results[0];\n\t\t\t\taddress = this.buildAddress(address.address_components);\n\t\t\t\t// Get the houses matching the address\n\t\t\t\tthis.app.handleRequest('GET', `${this.app.config.funda.baseUrls.search}/${this.app.config.funda.key}?type=koop&zo=/${address}&page=1&pagesize=25`, true)\n\t\t\t\t\t.then(houses => {\n\t\t\t\t\t\tconsole.log(houses);\n\t\t\t\t\t});\n\t\t\t});\n\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n}\n\nexport default View;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvYXBwLmpzIiwiYXNzZXRzL2pzL2NmZy5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL0FwcC5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL0NvbnRyb2xsZXIuanMiLCJhc3NldHMvanMvbW9kdWxlcy9TdG9yZS5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL1ZpZXcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0VBOzs7Ozs7QUFFQSxDQUFDLFlBQU07QUFDTjs7QUFFQSxLQUFNLE1BQU0sbUJBQVo7QUFFQSxDQUxELGlCLENBSkE7Ozs7Ozs7O0FDQUE7O0FBRUEsSUFBTSxTQUFTO0FBQ2QsUUFBTztBQUNOLE9BQUssa0NBREM7QUFFTixZQUFVO0FBQ1QsV0FBUSwyQ0FEQztBQUVULFlBQVMsMkNBRkE7QUFHVCxnQkFBYSwrQkFISjtBQUlULFFBQUs7QUFKSTtBQUZKLEVBRE87QUFVZCxTQUFRO0FBQ1AsT0FBSyx5Q0FERTtBQUVQLFdBQVM7QUFGRjtBQVZNLENBQWY7O2tCQWdCZSxNOzs7Ozs7Ozs7cWpCQ2xCZjs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7SUFFTSxHO0FBQ0wsZ0JBQWM7QUFBQTs7QUFDYixPQUFLLE1BQUw7QUFDQSxPQUFLLFVBQUwsR0FBa0IseUJBQWUsSUFBZixDQUFsQjtBQUNBLE9BQUssSUFBTCxHQUFrQixtQkFBUyxJQUFULENBQWxCO0FBQ0EsT0FBSyxLQUFMLEdBQWtCLG9CQUFVLElBQVYsQ0FBbEI7QUFDQSxPQUFLLElBQUw7QUFDQTs7Ozs4QkFFVztBQUNYLFVBQU8sSUFBSSxPQUFKLENBQVksVUFBUyxPQUFULEVBQWtCLE1BQWxCLEVBQTBCO0FBQzVDLFFBQUksVUFBVSxXQUFWLENBQXNCLGtCQUExQixFQUE4QztBQUM3QyxlQUFVLFdBQVYsQ0FBc0Isa0JBQXRC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QUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsS0FBaEIsQ0FBc0IsUUFBdEIsQ0FBK0IsTUFBaEUsU0FBMEUsTUFBSyxHQUFMLENBQVMsTUFBVCxDQUFnQixLQUFoQixDQUFzQixHQUFoRyx1QkFBcUgsT0FBckgsMEJBQW1KLElBQW5KLEVBQ0UsSUFERixDQUNPLGtCQUFVO0FBQ2YsY0FBUSxHQUFSLENBQVksTUFBWjtBQUNBLE1BSEY7QUFJQSxLQVRBO0FBVUQsSUFiRCxFQWNFLEtBZEYsQ0FjUSxpQkFBUztBQUNmLFlBQVEsR0FBUixDQUFZLEtBQVo7QUFDQSxJQWhCRjtBQWlCQTs7Ozs7O2tCQUdhLEkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmltcG9ydCBBcHAgZnJvbSAnLi9tb2R1bGVzL0FwcC5qcyc7XG5cbigoKSA9PiB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRjb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cbn0pKEFwcCk7IiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmNvbnN0IGNvbmZpZyA9IHtcblx0ZnVuZGE6IHtcblx0XHRrZXk6ICcyNzExNzU0MzNhN2M0ZmUyYTQ1NzUwZDM4NWRkOWJmZCcsXG5cdFx0YmFzZVVybHM6IHtcblx0XHRcdHNlYXJjaDogJ2h0dHA6Ly9mdW5kYS5reXJhbmRpYS5ubC9mZWVkcy9BYW5ib2Quc3ZjJyxcblx0XHRcdG9iamVjdHM6ICdodHRwOi8vZnVuZGEua3lyYW5kaWEubmwvZmVlZHMvQWFuYm9kLnN2YycsXG5cdFx0XHRhdXRvU3VnZ2VzdDogJ2h0dHA6Ly96Yi5mdW5kYS5pbmZvL2Zyb250ZW5kJyxcblx0XHRcdG1hcDogJ2h0dHA6Ly9tdDEuZnVuZGEubmwvbWFwdGlsZWRhdGEuYXNoeCdcblx0XHR9XG5cdH0sXG5cdGdvb2dsZToge1xuXHRcdGtleTogJ0FJemFTeUE1ZW1UYnI4eXR3dnpydzlOUVc3emxYZzFOdWJlREc1TScsXG5cdFx0YmFzZVVybDogJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24nXG5cdH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZzsiLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jZmcuanMnO1xuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVyLmpzJztcbmltcG9ydCBWaWV3IGZyb20gJy4vVmlldy5qcyc7XG5pbXBvcnQgU3RvcmUgZnJvbSAnLi9TdG9yZS5qcyc7XG5cbmNsYXNzIEFwcCB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuY29uZmlnICAgICA9IGNvbmZpZztcblx0XHR0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcih0aGlzKTtcblx0XHR0aGlzLnZpZXcgICAgICAgPSBuZXcgVmlldyh0aGlzKTtcblx0XHR0aGlzLnN0b3JlICAgICAgPSBuZXcgU3RvcmUodGhpcyk7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRnZXRDb29yZHMoKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0aWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24pIHtcblx0XHRcdFx0bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihkYXRhID0+IHtcblx0XHRcdFx0XHRyZXNvbHZlKGRhdGEuY29vcmRzKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZWplY3QoYENvdWxkbid0IGdldCB0aGUgbG9jYXRpb24gZnJvbSB5b3VyIGJyb3dzZXJgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGhhbmRsZVJlcXVlc3QobWV0aG9kLCB1cmwsIHhtbCkge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHRcdFx0eGhyLm9wZW4obWV0aG9kLCB1cmwpO1xuXG5cdFx0XHR4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICh0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDApIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyh4aHIucmVzcG9uc2VUZXh0KTtcblx0XHRcdFx0XHRpZiAoeG1sKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHhoci5yZXNwb25zZVRleHQpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZWplY3Qoe3N0YXR1czogdGhpcy5zdGF0dXMsIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJlamVjdCh7c3RhdHVzOiB0aGlzLnN0YXR1cywgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHR9KTtcblx0XHRcdH07XG5cblx0XHRcdHhoci5zZW5kKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRpbml0KCkge1xuXHRcdHRoaXMuY29udHJvbGxlci5pbml0KCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBwOyIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5jbGFzcyBDb250cm9sbGVyIHtcblx0Y29uc3RydWN0b3IoYXBwKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdH1cblxuXHRpbml0KCkge1xuXHRcdHRoaXMuYXBwLnZpZXcucmVuZGVyKCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjsiLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuY2xhc3MgU3RvcmUge1xuXHRjb25zdHJ1Y3RvcihhcHApIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0fVxuXG5cdGdldEFzc2V0cyhsb2NhdGlvbikge1xuXG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RvcmU7IiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmNsYXNzIFZpZXcge1xuXHRjb25zdHJ1Y3RvcihhcHApIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0fVxuXG5cdGJ1aWxkQWRkcmVzcyhjb21wb25lbnRzKSB7XG5cdFx0Y29tcG9uZW50cyA9IGNvbXBvbmVudHMuZmlsdGVyKGNvbXBvbmVudCA9PiB7XG5cdFx0XHRyZXR1cm4gY29tcG9uZW50LnR5cGVzLmluY2x1ZGVzKCdyb3V0ZScpIHx8IGNvbXBvbmVudC50eXBlcy5pbmNsdWRlcygnbG9jYWxpdHknKTtcblx0XHR9KTtcblxuXHRcdGNvbXBvbmVudHMgPSBjb21wb25lbnRzLm1hcChjb21wb25lbnQgPT4ge1xuXHRcdFx0cmV0dXJuIGNvbXBvbmVudC5sb25nX25hbWU7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gY29tcG9uZW50cy5yZWR1Y2UoKGJ1ZmZlciwgY3VycmVudCkgPT4ge1xuXHRcdFx0cmV0dXJuIGAke2J1ZmZlcn0vJHtjdXJyZW50fWA7XG5cdFx0fSk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0dGhpcy5hcHAuZ2V0Q29vcmRzKClcblx0XHRcdC50aGVuKGNvb3JkcyA9PiB7XG5cdFx0XHRcdC8vIEdldCB0aGUgZmlyc3QgYWRkcmVzcyBtYXRjaGluZyB0aGUgY29vcmRpbmF0ZXNcblx0XHRcdFx0dGhpcy5hcHAuaGFuZGxlUmVxdWVzdCgnR0VUJywgYCR7dGhpcy5hcHAuY29uZmlnLmdvb2dsZS5iYXNlVXJsfT9sYXRsbmc9JHtjb29yZHMubGF0aXR1ZGV9LCR7Y29vcmRzLmxvbmdpdHVkZX0ma2V5PSR7dGhpcy5hcHAuY29uZmlnLmdvb2dsZS5rZXl9YClcblx0XHRcdC50aGVuKGFkZHJlc3MgPT4ge1xuXHRcdFx0XHRhZGRyZXNzID0gYWRkcmVzcy5yZXN1bHRzWzBdO1xuXHRcdFx0XHRhZGRyZXNzID0gdGhpcy5idWlsZEFkZHJlc3MoYWRkcmVzcy5hZGRyZXNzX2NvbXBvbmVudHMpO1xuXHRcdFx0XHQvLyBHZXQgdGhlIGhvdXNlcyBtYXRjaGluZyB0aGUgYWRkcmVzc1xuXHRcdFx0XHR0aGlzLmFwcC5oYW5kbGVSZXF1ZXN0KCdHRVQnLCBgJHt0aGlzLmFwcC5jb25maWcuZnVuZGEuYmFzZVVybHMuc2VhcmNofS8ke3RoaXMuYXBwLmNvbmZpZy5mdW5kYS5rZXl9P3R5cGU9a29vcCZ6bz0vJHthZGRyZXNzfSZwYWdlPTEmcGFnZXNpemU9MjVgLCB0cnVlKVxuXHRcdFx0XHRcdC50aGVuKGhvdXNlcyA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhob3VzZXMpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSlcblx0XHRcdC5jYXRjaChlcnJvciA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHRcdH0pO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXc7Il19"}